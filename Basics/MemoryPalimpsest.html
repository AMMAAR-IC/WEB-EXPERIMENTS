<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>Memory Palimpsest</title>
<style>
  body {
    margin: 0;
    background: #020202;
    color: #7fffd4;
    font-family: monospace;
    height: 100vh;
    display: flex;
    flex-direction: column;
    align-items: center;
    justify-content: center;
  }

  h1 {
    font-size: 16px;
    opacity: 0.6;
    margin-bottom: 10px;
  }

  input {
    background: transparent;
    border: none;
    border-bottom: 1px solid #7fffd4;
    color: #7fffd4;
    width: 60%;
    font-size: 16px;
    outline: none;
    text-align: center;
  }

  .memory {
    margin-top: 30px;
    width: 80%;
    min-height: 200px;
    text-align: center;
  }

  .thought {
    margin: 6px 0;
    transition: opacity 1s, filter 1s;
  }
</style>
</head>
<body>

<h1>Memory Palimpsest â€” write something</h1>
<input id="input" placeholder="a thought appears, then fades">

<div class="memory" id="memory"></div>

<script>
const input = document.getElementById("input");
const memory = document.getElementById("memory");

class Thought {
  constructor(text) {
    this.text = text;
    this.strength = 1;
    this.el = document.createElement("div");
    this.el.className = "thought";
    this.el.textContent = text;
    memory.prepend(this.el);
  }

  decay() {
    this.strength -= 0.005;
    if (this.strength <= 0) {
      this.el.remove();
      return false;
    }

    this.el.style.opacity = this.strength;
    this.el.style.filter = `blur(${(1 - this.strength) * 3}px)`;
    return true;
  }
}

let thoughts = [];

input.addEventListener("keydown", e => {
  if (e.key === "Enter" && input.value.trim()) {
    thoughts.push(new Thought(input.value.trim()));
    input.value = "";
  }
});

// Memory decay loop
setInterval(() => {
  thoughts = thoughts.filter(t => t.decay());
}, 50);
</script>

</body>
</html>
